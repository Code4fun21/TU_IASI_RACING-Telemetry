import React from "react";
import PropTypes from "prop-types";
import ChartWrapper from "../ChartWrapper"; // Adjust path if needed

const carBase64 =
    "data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMXB0IiB2aWV3Qm94PSIwIC0xMTkgNTExLjk4MjUxIDUxMSIgd2lkdGg9IjUxMXB0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0xNzAuNTgyMDMxIDUxLjc3NzM0NC01MS4xMTcxODcgOTMuNzgxMjVjLTguNDg0Mzc1LTEuMjgxMjUtMTcuMTEzMjgyLTEuMjgxMjUtMjUuNTk3NjU2IDAtMTIuOTcyNjU3IDAtMjUuMDg5ODQ0LTEzLjM5ODQzOC0zNS40MTQwNjMtNy4xNjc5NjlsLTE1Ljc4NTE1Ni0xOC40MzM1OTQgMzQuMTMyODEyLTQyLjY2NDA2Mmg4LjUzMTI1YzQuNjk1MzEzIDAgMTcuMDY2NDA3IDQuNjkxNDA2IDE3LjA2NjQwNyAwbDguNTM1MTU2LTguNTM1MTU3IDU4LjYyNS0xNi43MjY1NjJ6bTAgMCIgZmlsbD0iIzQyNDI0MiIvPjxwYXRoIGQ9Im01MDIuNjEzMjgxIDIzOC44MjgxMjVjLTIuMjM0Mzc1IDUuNjA1NDY5LTcuNzA3MDMxIDkuMjM4MjgxLTEzLjczODI4MSA5LjEyODkwNmgtMTYuMzgyODEyYy4wODIwMzEtLjE2Nzk2OS4xNjc5NjgtLjQyNTc4MS4yNTM5MDYtLjU5NzY1NiAxLjQyMTg3NS0zLjg3ODkwNiAxLjA3ODEyNS04LjE4NzUtLjkzNzUtMTEuNzkyOTY5LTIuMDE5NTMyLTMuNjA5Mzc1LTUuNTA3ODEzLTYuMTU2MjUtOS41NTg1OTQtNi45ODA0NjhsLTExLjM0NzY1Ni0yLjMwMDc4MmMtMTMuMjM4MjgyLTIuNTkzNzUtMjYuMDcwMzEzLTYuOTU3MDMxLTM4LjE0NDUzMi0xMi45NzI2NTZsLTEwMS4yOTI5NjgtNTAuNjg3NS02My4xNDQ1MzItMTUuNzg1MTU2Yy0zLjQwNjI1LS44NTE1NjMtNi45MDIzNDMtMS4yODEyNS0xMC40MTAxNTYtMS4yODEyNWgtNzEuNTExNzE4bC01MC45NDE0MDctNy4yNTM5MDZjMi42NDQ1MzEtNC40Mzc1IDkuMDQyOTY5LTcuODUxNTYzIDIxLjA3ODEyNS05LjgxMjVsNTkuNzMwNDY5IDguNTMxMjVoNzEuNTExNzE5YzMuNTA3ODEyIDAgNy4wMDM5MDYuNDI5Njg3IDEwLjQxMDE1NiAxLjI4MTI1bDYzLjE0NDUzMSAxNS43ODUxNTYgMTAxLjI5Mjk2OSA1MC42ODc1YzEyLjA3NDIxOSA2LjAxOTUzMSAyNC45MDIzNDQgMTAuMzc4OTA2IDM4LjE0NDUzMSAxMi45NzI2NTZsMTEuMzQ3NjU3IDIuMzA0Njg4YzQuMDUwNzgxLjgyMDMxMiA3LjUzOTA2MiAzLjM3MTA5MyA5LjU1ODU5MyA2Ljk3NjU2MiAyLjAxNTYyNSAzLjYwOTM3NSAyLjM1OTM3NSA3LjkxNDA2Mi45Mzc1IDExLjc5Njg3NXptMCAwIiBmaWxsPSIjYzUyODI4Ii8+PHBhdGggZD0ibTQ3Mi43NDYwOTQgMjQ3LjM1OTM3NWMtLjA4NTkzOC4xNzE4NzUtLjE3MTg3NS40Mjk2ODctLjI1MzkwNi41OTc2NTZoLTM3LjI5Mjk2OWwtMTAyLjM5ODQzOC0yNS41OTc2NTYtMTcuNDkyMTg3IDExLjYwNTQ2OS04LjEwOTM3NSA1LjQ2MDkzN2MtNS4zNzUgNS4zNzUtMTguMDg5ODQ0IDcuNDIxODc1LTI5LjE4MzU5NCA4LjEwNTQ2OS01LjM3NS4zMzk4NDQtMTAuMzI0MjE5LjQyNTc4MS0xMy45MTAxNTYuNDI1NzgxaC0zMy43MDcwMzFsLTc2Ljc5Njg3Ni0xNy4wNjY0MDYtMTcuMDY2NDA2LTE3LjA2NjQwNmMuNTExNzE5LTUuNjc1NzgxLjUxMTcxOS0xMS4zOTA2MjUgMC0xNy4wNjY0MDcgMC0xOS4yODUxNTYtMjkuOTUzMTI1LTQ0LjAzMTI1LTIxLjA3ODEyNS01OC40NTMxMjRsNTAuOTQxNDA3IDcuMjUzOTA2aDcxLjUxMTcxOGMzLjUwNzgxMyAwIDcuMDAzOTA2LjQyOTY4NyAxMC40MTAxNTYgMS4yODEyNWw2My4xNDQ1MzIgMTUuNzg1MTU2IDEwMS4yOTI5NjggNTAuNjg3NWMxMi4wNzQyMTkgNi4wMTU2MjUgMjQuOTA2MjUgMTAuMzc4OTA2IDM4LjE0NDUzMiAxMi45NzI2NTZsMTEuMzQ3NjU2IDIuMzAwNzgyYzQuMDUwNzgxLjgyNDIxOCA3LjUzOTA2MiAzLjM3MTA5MyA5LjU1ODU5NCA2Ljk4MDQ2OCAyLjAxNTYyNSAzLjYwNTQ2OSAyLjM1OTM3NSA3LjkxNDA2My45Mzc1IDExLjc5Mjk2OXptMCAwIiBmaWxsPSIjZjQ0MzM1Ii8+PHBhdGggZD0ibTQzNS4xOTkyMTkgMjQ3Ljk1NzAzMWgtMTcxLjA5Mzc1YzExLjIwMzEyNSAwIDIxLjk0NTMxMi00LjQ0OTIxOSAyOS44NjcxODctMTIuMzcxMDkzbDMwLjI5Mjk2OS0zMC4yOTI5Njl6bTAgMCIgZmlsbD0iI2M1MjgyOCIvPjxwYXRoIGQ9Im0yMzAuMzk4NDM4IDI0Ny45NTcwMzFoLTkxLjM5MDYyNmMxMC43ODkwNjMtOS41MDM5MDYgMTguMzEyNS0yMi4xNjAxNTYgMjEuNTAzOTA3LTM2LjE3OTY4N2wxLjYyMTA5MyAyLjA0Njg3NXptMCAwIiBmaWxsPSIjYzUyODI4Ii8+PHBhdGggZD0ibTQ2MC44MDA3ODEgMTk2Ljc1NzgxMmMwIDM3LjcwMzEyNi0zMC41NjY0MDYgNjguMjY1NjI2LTY4LjI2NTYyNSA2OC4yNjU2MjYtMy41NzQyMTguMDE1NjI0LTcuMTQ0NTMxLS4yNjk1MzItMTAuNjY3OTY4LS44NTE1NjMtMzMuMTI4OTA3LTUuMjg5MDYzLTU3LjUwNzgxMy0zMy44NjMyODEtNTcuNTA3ODEzLTY3LjQxNDA2MyAwLTMzLjU0Njg3NCAyNC4zNzg5MDYtNjIuMTI1IDU3LjUwNzgxMy02Ny40MTQwNjIgMy41MjM0MzctLjU4MjAzMSA3LjA5Mzc1LS44NjcxODggMTAuNjY3OTY4LS44NTE1NjIgMzcuNjk5MjE5IDAgNjguMjY1NjI1IDMwLjU2MjUgNjguMjY1NjI1IDY4LjI2NTYyNHptMCAwIiBmaWxsPSIjMzc0NzRmIi8+PHBhdGggZD0ibTQzOS40NjQ4NDQgMTk2Ljc1NzgxMmMwLTM3LjIzMDQ2OC0yNS43ODUxNTYtNjcuNDE0MDYyLTU3LjU5NzY1Ni02Ny40MTQwNjJzLTU3LjYwMTU2MyAzMC4xODM1OTQtNTcuNjAxNTYzIDY3LjQxNDA2MmMwIDM3LjIzMDQ2OSAyNS43ODkwNjMgNjcuNDE0MDYzIDU3LjYwMTU2MyA2Ny40MTQwNjNzNTcuNTk3NjU2LTMwLjE4MzU5NCA1Ny41OTc2NTYtNjcuNDE0MDYzem0wIDAiIGZpbGw9IiM2MDdkOGIiLz48cGF0aCBkPSJtNDE4LjEzMjgxMiAxOTYuNzU3ODEyYzAgMTQuMTM2NzE5LTExLjQ2MDkzNyAyNS42MDE1NjMtMjUuNTk3NjU2IDI1LjYwMTU2My0zLjY5MTQwNi4wMDc4MTMtNy4zMzU5MzctLjgwODU5NC0xMC42Njc5NjgtMi4zOTA2MjUtOS4wOTM3NS00LjE0NDUzMS0xNC45MzM1OTQtMTMuMjE4NzUtMTQuOTMzNTk0LTIzLjIxMDkzOCAwLTkuOTkyMTg3IDUuODM5ODQ0LTE5LjA2NjQwNiAxNC45MzM1OTQtMjMuMjEwOTM3IDMuMzMyMDMxLTEuNTgyMDMxIDYuOTc2NTYyLTIuMzk4NDM3IDEwLjY2Nzk2OC0yLjM5MDYyNSAxNC4xMzY3MTkgMCAyNS41OTc2NTYgMTEuNDY0ODQ0IDI1LjU5NzY1NiAyNS42MDE1NjJ6bTAgMCIgZmlsbD0iIzllOWU5ZSIvPjxwYXRoIGQ9Im0xMTAuOTMzNTk0IDE3LjU1ODU5NHY1OS43MzQzNzVjMCA0LjcxMDkzNy0zLjgyMDMxMyA4LjUzMTI1LTguNTM1MTU2IDguNTMxMjVoLTE3LjA2NjQwN2wtMjUuNTk3NjU2IDUxLjE5OTIxOS0xLjI4MTI1IDEuMzY3MTg3LS4yNTM5MDYuMTcxODc1LTIyLjUzMTI1IDIyLjUyNzM0NC0uMTY3OTY5LjI1MzkwNi0xLjM2NzE4OCAxLjI4MTI1LTEyLjgwMDc4MS0xNy4wNjY0MDYtNy42Nzk2ODctMTAuMjQyMTg4Yy0zLjMyNDIxOS00LjQyOTY4Ny01LjExNzE4OC05LjgyMDMxMi01LjExNzE4OC0xNS4zNTkzNzV2LTEwMi4zOTg0MzdjMC00LjcxNDg0NCAzLjgyMDMxMy04LjUzNTE1NiA4LjUzMTI1LTguNTM1MTU2aDg1LjMzMjAzMmM0LjcxNDg0MyAwIDguNTM1MTU2IDMuODIwMzEyIDguNTM1MTU2IDguNTM1MTU2em0wIDAiIGZpbGw9IiNjNTI4MjgiLz48cGF0aCBkPSJtODkuNjAxNTYyIDkuMDIzNDM4djUxLjE5OTIxOGMwIDQuNzE0ODQ0LTMuODIwMzEyIDguNTM1MTU2LTguNTM1MTU2IDguNTM1MTU2aC04LjUzMTI1bC0yNS42MDE1NjIgNTEuMTk5MjE5LTEuMjgxMjUgMS4zNjcxODgtLjI1MzkwNi4xNjc5NjktMjIuNTI3MzQ0IDIyLjUzMTI1LS4xNzE4NzUuMjUzOTA2LTEuMzY3MTg4IDEuMjgxMjUtNy42Nzk2ODctMTAuMjQyMTg4Yy0zLjMyNDIxOS00LjQyOTY4Ny01LjExNzE4OC05LjgyMDMxMi01LjExNzE4OC0xNS4zNTkzNzV2LTEwMi4zOTg0MzdjMC00LjcxNDg0NCAzLjgyMDMxMy04LjUzNTE1NiA4LjUzMTI1LTguNTM1MTU2em0wIDAiIGZpbGw9IiNmNDQzMzUiLz48cGF0aCBkPSJtMTk2LjI2NTYyNSA2MC4yMjI2NTZ2NzYuODAwNzgyaC02OS4zNzVjLTMuMjIyNjU2LTEuODA4NTk0LTYuNTkzNzUtMy4zNDc2NTctMTAuMDcwMzEzLTQuNjA1NDY5bDUzLjc2MTcxOS04MC42NDA2MjVoLjA4NTkzOGMuMzk0NTMxLS4wNzAzMTMuNzkyOTY5LS4wOTc2NTYgMS4xOTUzMTItLjA4NTkzOGgxNS44NzEwOTRjNC43MTA5MzcgMCA4LjUzMTI1IDMuODIwMzEzIDguNTMxMjUgOC41MzEyNXptMCAwIiBmaWxsPSIjYzUyODI4Ii8+PHBhdGggZD0ibTI1NiAxMzcuMDIzNDM4aC01OS43MzQzNzV2LTIyLjYxMzI4MmMzLjkxNzk2OS00LjQ3MjY1NiA4Ljk1MzEyNS03LjgzMjAzMSAxNC41OTM3NS05LjcyNjU2MmguMDg1OTM3YzMuNTExNzE5LTEuMjEwOTM4IDcuMjA3MDMyLTEuODE2NDA2IDEwLjkyMTg3Ni0xLjc5Mjk2OSAxOC42NTIzNDMuNDcyNjU2IDMzLjY2MDE1NiAxNS40ODA0NjkgMzQuMTMyODEyIDM0LjEzMjgxM3ptMCAwIiBmaWxsPSIjMTU2NmMwIi8+PHBhdGggZD0ibTIzNC42Njc5NjkgMTM3LjAyMzQzOGgtMzguNDAyMzQ0di0yMi42MTMyODJjMy45MTc5NjktNC40NzI2NTYgOC45NTMxMjUtNy44MzIwMzEgMTQuNTkzNzUtOS43MjY1NjJoLjA4NTkzN2MxMy45MDIzNDQgNC43NDYwOTQgMjMuMzcxMDk0IDE3LjY1NjI1IDIzLjcyMjY1NyAzMi4zMzk4NDR6bTAgMCIgZmlsbD0iIzIyOTZmMyIvPjxwYXRoIGQ9Im0xNjIuMTMyODEyIDE5Ni43NTc4MTJjLS4wMDc4MTIgNS4wNTA3ODItLjU1NDY4NyAxMC4wODIwMzItMS42MjEwOTMgMTUuMDE5NTMyLTcuMDc4MTI1IDMxLjEyMTA5NC0zNC43MzA0NjkgNTMuMjE0ODQ0LTY2LjY0NDUzMSA1My4yNDYwOTQtMy42ODM1OTQtLjAyMzQzOC03LjM2MzI4Mi0uMzA4NTk0LTExLjAwNzgxMy0uODUxNTYzLTIyLjM5NDUzMS0zLjY3MTg3NS00MS41LTE4LjIyMjY1Ni01MC45OTYwOTQtMzguODMyMDMxLTkuNDkyMTg3LTIwLjYxMzI4Mi04LjEyODkwNi00NC41ODk4NDQgMy42MzY3MTktNjMuOTk2MDk0bC4xNjc5NjktLjI1MzkwNmM1LjYxMzI4MS05LjE5NTMxMyAxMy4zMzU5MzctMTYuOTE3OTY5IDIyLjUzMTI1LTIyLjUyNzM0NGwuMjUzOTA2LS4xNzE4NzVjNy41NjY0MDYtNC42MjUgMTUuOTgwNDY5LTcuNjk5MjE5IDI0Ljc0NjA5NC05LjA0Njg3NSAzLjUyNzM0My0uNTg1OTM4IDcuMDkzNzUtLjg3MTA5NCAxMC42Njc5NjktLjg1MTU2MiA3LjgyMDMxMi0uMDE1NjI2IDE1LjU4MjAzMSAxLjMxMjUgMjIuOTUzMTI0IDMuOTI1NzgxIDMuNDc2NTYzIDEuMjU3ODEyIDYuODQ3NjU3IDIuNzk2ODc1IDEwLjA3MDMxMyA0LjYwNTQ2OS40MjU3ODEuMTcxODc0Ljc2OTUzMS40Mjk2ODcgMS4xMDkzNzUuNTk3NjU2IDIxLjEyNSAxMi4xOTkyMTggMzQuMTQwNjI1IDM0Ljc0MjE4NyAzNC4xMzI4MTIgNTkuMTM2NzE4em0wIDAiIGZpbGw9IiMzNzQ3NGYiLz48cGF0aCBkPSJtMTQwLjgwMDc4MSAxOTYuNzU3ODEyYy0uMDExNzE5IDUuMDUwNzgyLS41NTQ2ODcgMTAuMDgyMDMyLTEuNjIxMDkzIDE1LjAxOTUzMi0zLjE5MTQwNyAxNC4wMTk1MzEtMTAuNzE0ODQ0IDI2LjY3NTc4MS0yMS41MDM5MDcgMzYuMTc5Njg3LTkuNzkyOTY5IDguNjYwMTU3LTIxLjg4NjcxOSAxNC4yODkwNjMtMzQuODE2NDA2IDE2LjIxNDg0NC0yMi4zOTQ1MzEtMy42NzE4NzUtNDEuNS0xOC4yMjI2NTYtNTAuOTk2MDk0LTM4LjgzMjAzMS05LjQ5MjE4Ny0yMC42MTMyODItOC4xMjg5MDYtNDQuNTg5ODQ0IDMuNjM2NzE5LTYzLjk5NjA5NGwuMTY3OTY5LS4yNTM5MDZjNS42MTMyODEtOS4xOTUzMTMgMTMuMzM1OTM3LTE2LjkxNzk2OSAyMi41MzEyNS0yMi41MjczNDRsLjI1MzkwNi0uMTcxODc1YzcuNTY2NDA2LTQuNjI1IDE1Ljk4MDQ2OS03LjY5OTIxOSAyNC43NDYwOTQtOS4wNDY4NzUgNC4xODc1LjYyMTA5NCA4LjMwNDY4NyAxLjY0ODQzOCAxMi4yODkwNjIgMy4wNzQyMTkgMy40NzY1NjMgMS4yNTc4MTIgNi44NDM3NSAyLjc5Njg3NSAxMC4wNzAzMTMgNC42MDU0NjkuNDI1NzgxLjE3MTg3NC43NjU2MjUuNDI5Njg3IDEuMTA5Mzc1LjU5NzY1NiAyMS4xMjUgMTIuMTk5MjE4IDM0LjEzNjcxOSAzNC43NDIxODcgMzQuMTMyODEyIDU5LjEzNjcxOHptMCAwIiBmaWxsPSIjNjA3ZDhiIi8+PHBhdGggZD0ibTExOS40NjQ4NDQgMTk2Ljc1NzgxMmMwIDE0LjEzNjcxOS0xMS40NjA5MzggMjUuNjAxNTYzLTI1LjU5NzY1NiAyNS42MDE1NjMtMy42OTE0MDcuMDA3ODEzLTcuMzM1OTM4LS44MDg1OTQtMTAuNjY3OTY5LTIuMzkwNjI1LTkuMDkzNzUtNC4xNDQ1MzEtMTQuOTI5Njg4LTEzLjIxODc1LTE0LjkyOTY4OC0yMy4yMTA5MzggMC05Ljk5MjE4NyA1LjgzNTkzOC0xOS4wNjY0MDYgMTQuOTI5Njg4LTIzLjIxMDkzNyAzLjMzMjAzMS0xLjU4MjAzMSA2Ljk3NjU2Mi0yLjM5ODQzNyAxMC42Njc5NjktMi4zOTA2MjUgMTQuMTM2NzE4IDAgMjUuNTk3NjU2IDExLjQ2NDg0NCAyNS41OTc2NTYgMjUuNjAxNTYyem0wIDAiIGZpbGw9IiM5ZTllOWUiLz48cGF0aCBkPSJtMzk2LjgwMDc4MSAxOTYuNzU3ODEyYy4wMTk1MzEgMTAtNS44MjQyMTkgMTkuMDg1OTM4LTE0LjkzMzU5MyAyMy4yMTA5MzgtOS4wOTM3NS00LjE0NDUzMS0xNC45MzM1OTQtMTMuMjE4NzUtMTQuOTMzNTk0LTIzLjIxMDkzOCAwLTkuOTkyMTg3IDUuODM5ODQ0LTE5LjA2NjQwNiAxNC45MzM1OTQtMjMuMjEwOTM3IDkuMTA5Mzc0IDQuMTI1IDE0Ljk1MzEyNCAxMy4yMTA5MzcgMTQuOTMzNTkzIDIzLjIxMDkzN3ptMCAwIiBmaWxsPSIjY2ZkOGRjIi8+PHBhdGggZD0ibTk4LjEzMjgxMiAxOTYuNzU3ODEyYy4wMjM0MzggMTAtNS44MjQyMTggMTkuMDg1OTM4LTE0LjkzMzU5MyAyMy4yMTA5MzgtOS4wOTM3NS00LjE0NDUzMS0xNC45Mjk2ODgtMTMuMjE4NzUtMTQuOTI5Njg4LTIzLjIxMDkzOCAwLTkuOTkyMTg3IDUuODM1OTM4LTE5LjA2NjQwNiAxNC45Mjk2ODgtMjMuMjEwOTM3IDkuMTA5Mzc1IDQuMTI1IDE0Ljk1NzAzMSAxMy4yMTA5MzcgMTQuOTMzNTkzIDIzLjIxMDkzN3ptMCAwIiBmaWxsPSIjY2ZkOGRjIi8+PHBhdGggZD0ibTM5Mi41MzUxNTYgMjczLjU1ODU5NGgtNzYuODAwNzgxYy00LjcxNDg0NCAwLTguNTM1MTU2LTMuODIwMzEzLTguNTM1MTU2LTguNTM1MTU2IDAtNC43MTA5MzggMy44MjAzMTItOC41MzEyNSA4LjUzNTE1Ni04LjUzMTI1aDc2LjgwMDc4MWM0LjcxMDkzOCAwIDguNTMxMjUgMy44MjAzMTIgOC41MzEyNSA4LjUzMTI1IDAgNC43MTQ4NDMtMy44MjAzMTIgOC41MzUxNTYtOC41MzEyNSA4LjUzNTE1NnptMCAwIi8+PHBhdGggZD0ibTkzLjg2NzE4OCAyNzMuNTU4NTk0aC04NS4zMzIwMzJjLTQuNzE0ODQ0IDAtOC41MzUxNTYtMy44MjAzMTMtOC41MzUxNTYtOC41MzUxNTYgMC00LjcxMDkzOCAzLjgyMDMxMi04LjUzMTI1IDguNTM1MTU2LTguNTMxMjVoODUuMzMyMDMyYzQuNzEwOTM3IDAgOC41MzEyNSAzLjgyMDMxMiA4LjUzMTI1IDguNTMxMjUgMCA0LjcxNDg0My0zLjgyMDMxMyA4LjUzNTE1Ni04LjUzMTI1IDguNTM1MTU2em0wIDAiLz48cGF0aCBkPSJtOTMuODY3MTg4IDI3My41NTg1OTRjLTQyLjQxNDA2MyAwLTc2LjgwMDc4Mi0zNC4zODY3MTktNzYuODAwNzgyLTc2LjgwMDc4MiAwLTQyLjQxNDA2MiAzNC4zODY3MTktNzYuODAwNzgxIDc2LjgwMDc4Mi03Ni44MDA3ODEgNDIuNDE0MDYyIDAgNzYuODAwNzgxIDM0LjM4NjcxOSA3Ni44MDA3ODEgNzYuODAwNzgxLS4wNDY4NzUgNDIuMzk0NTMyLTM0LjQwNjI1IDc2Ljc1MzkwNy03Ni44MDA3ODEgNzYuODAwNzgyem0wLTEzNi41MzUxNTZjLTMyLjk5MjE4OCAwLTU5LjczNDM3NiAyNi43NDYwOTMtNTkuNzM0Mzc2IDU5LjczNDM3NCAwIDMyLjk4ODI4MiAyNi43NDIxODggNTkuNzM0Mzc2IDU5LjczNDM3NiA1OS43MzQzNzYgMzIuOTg4MjgxIDAgNTkuNzM0Mzc0LTI2Ljc0NjA5NCA1OS43MzQzNzQtNTkuNzM0Mzc2LS4wNDI5NjgtMzIuOTcyNjU2LTI2Ljc2MTcxOC01OS42OTE0MDYtNTkuNzM0Mzc0LTU5LjczNDM3NHptMCAwIi8+PHBhdGggZD0ibTkzLjg2NzE4OCAyMzAuODkwNjI1Yy0xOC44NTE1NjMgMC0zNC4xMzI4MTMtMTUuMjgxMjUtMzQuMTMyODEzLTM0LjEzMjgxMyAwLTE4Ljg1MTU2MiAxNS4yODEyNS0zNC4xMzI4MTIgMzQuMTMyODEzLTM0LjEzMjgxMiAxOC44NTE1NjIgMCAzNC4xMzI4MTIgMTUuMjgxMjUgMzQuMTMyODEyIDM0LjEzMjgxMiAwIDE4Ljg1MTU2My0xNS4yODEyNSAzNC4xMzI4MTMtMzQuMTMyODEyIDM0LjEzMjgxM3ptMC01MS4xOTkyMTljLTkuNDI1NzgyIDAtMTcuMDY2NDA3IDcuNjQwNjI1LTE3LjA2NjQwNyAxNy4wNjY0MDYgMCA5LjQyNTc4MiA3LjY0MDYyNSAxNy4wNjY0MDcgMTcuMDY2NDA3IDE3LjA2NjQwNyA5LjQyNTc4MSAwIDE3LjA2NjQwNi03LjY0MDYyNSAxNy4wNjY0MDYtMTcuMDY2NDA3IDAtOS40MjU3ODEtNy42NDA2MjUtMTcuMDY2NDA2LTE3LjA2NjQwNi0xNy4wNjY0MDZ6bTAgMCIvPjxwYXRoIGQ9Im0zOTIuNTM1MTU2IDI3My41NTg1OTRjLTQyLjQxNzk2OCAwLTc2LjgwMDc4MS0zNC4zODY3MTktNzYuODAwNzgxLTc2LjgwMDc4MiAwLTQyLjQxNDA2MiAzNC4zODI4MTMtNzYuODAwNzgxIDc2LjgwMDc4MS03Ni44MDA3ODEgNDIuNDE0MDYzIDAgNzYuNzk2ODc1IDM0LjM4NjcxOSA3Ni43OTY4NzUgNzYuODAwNzgxLS4wNDY4NzUgNDIuMzk0NTMyLTM0LjQwMjM0MyA3Ni43NTM5MDctNzYuNzk2ODc1IDc2LjgwMDc4MnptMC0xMzYuNTM1MTU2Yy0zMi45OTIxODcgMC01OS43MzQzNzUgMjYuNzQ2MDkzLTU5LjczNDM3NSA1OS43MzQzNzQgMCAzMi45ODgyODIgMjYuNzQyMTg4IDU5LjczNDM3NiA1OS43MzQzNzUgNTkuNzM0Mzc2IDMyLjk4ODI4MiAwIDU5LjczMDQ2OS0yNi43NDYwOTQgNTkuNzMwNDY5LTU5LjczNDM3Ni0uMDQyOTY5LTMyLjk3MjY1Ni0yNi43NjE3MTktNTkuNjkxNDA2LTU5LjczMDQ2OS01OS43MzQzNzR6bTAgMCIvPjxwYXRoIGQ9Im0zOTIuNTM1MTU2IDIzMC44OTA2MjVjLTE4Ljg1MTU2MiAwLTM0LjEzNjcxOC0xNS4yODEyNS0zNC4xMzY3MTgtMzQuMTMyODEzIDAtMTguODUxNTYyIDE1LjI4NTE1Ni0zNC4xMzI4MTIgMzQuMTM2NzE4LTM0LjEzMjgxMiAxOC44NDc2NTYgMCAzNC4xMzI4MTMgMTUuMjgxMjUgMzQuMTMyODEzIDM0LjEzMjgxMiAwIDE4Ljg1MTU2My0xNS4yODUxNTcgMzQuMTMyODEzLTM0LjEzMjgxMyAzNC4xMzI4MTN6bTAtNTEuMTk5MjE5Yy05LjQyNTc4MSAwLTE3LjA3MDMxMiA3LjY0MDYyNS0xNy4wNzAzMTIgMTcuMDY2NDA2IDAgOS40MjU3ODIgNy42NDQ1MzEgMTcuMDY2NDA3IDE3LjA3MDMxMiAxNy4wNjY0MDcgOS40MjU3ODIgMCAxNy4wNjY0MDYtNy42NDA2MjUgMTcuMDY2NDA2LTE3LjA2NjQwNyAwLTkuNDI1NzgxLTcuNjQwNjI0LTE3LjA2NjQwNi0xNy4wNjY0MDYtMTcuMDY2NDA2em0wIDAiLz48cGF0aCBkPSJtMjY0LjA2MjUgMjU2LjQ5MjE4OGgtMTI3LjUyNzM0NHYtMTcuMDY2NDA3aDEyNy41MjczNDRjOC45Njg3NS4wMTk1MzEgMTcuNTcwMzEyLTMuNTQyOTY5IDIzLjg5NDUzMS05Ljg5ODQzN2wzMC4yNjk1MzEtMzAuMjY5NTMyIDEyLjA2NjQwNyAxMi4wNjY0MDctMzAuMjYxNzE5IDMwLjI2OTUzMWMtOS41MTk1MzEgOS41NzAzMTItMjIuNDY4NzUgMTQuOTMzNTk0LTM1Ljk2ODc1IDE0Ljg5ODQzOHptMCAwIi8+PHBhdGggZD0ibTMyNC4yNjU2MjUgMTk2Ljc1NzgxMmgtMTAyLjM5ODQzN2MtNC43MTQ4NDQgMC04LjUzNTE1Ny0zLjgyMDMxMi04LjUzNTE1Ny04LjUzNTE1NiAwLTQuNzEwOTM3IDMuODIwMzEzLTguNTMxMjUgOC41MzUxNTctOC41MzEyNWgxMDIuMzk4NDM3YzQuNzE0ODQ0IDAgOC41MzUxNTYgMy44MjAzMTMgOC41MzUxNTYgOC41MzEyNSAwIDQuNzE0ODQ0LTMuODIwMzEyIDguNTM1MTU2LTguNTM1MTU2IDguNTM1MTU2em0wIDAiLz48cGF0aCBkPSJtMzQuMTMyODEyIDE3MS4xNTYyNWMtMi42ODM1OTMgMC01LjIxNDg0My0xLjI2MTcxOS02LjgyNDIxOC0zLjQxMDE1NmwtMjAuNDgwNDY5LTI3LjMwODU5NGMtNC40MTc5NjktNS45MTQwNjItNi44MTI1LTEzLjA5NzY1Ni02LjgyODEyNS0yMC40ODA0Njl2LTEwMi4zOTg0MzdjMC05LjQyNTc4MiA3LjY0MDYyNS0xNy4wNjY0MDYgMTcuMDY2NDA2LTE3LjA2NjQwNmg4NS4zMzIwMzJjOS40MjU3ODEgMCAxNy4wNjY0MDYgNy42NDA2MjQgMTcuMDY2NDA2IDE3LjA2NjQwNnY1OS43MzQzNzVjMCA5LjQyNTc4MS03LjY0MDYyNSAxNy4wNjY0MDYtMTcuMDY2NDA2IDE3LjA2NjQwNmgtMTEuNzkyOTY5bC0yMy4xOTE0MDcgNDYuNDgwNDY5Yy0xLjM2MzI4MSAyLjcyNjU2Mi00LjA3ODEyNCA0LjUyMzQzNy03LjEyMTA5MyA0LjcwNzAzMS0zLjA0Njg3NS4xODM1OTQtNS45NTcwMzEtMS4yNjk1MzEtNy42NDA2MjUtMy44MTY0MDYtMS42Nzk2ODgtMi41NDI5NjktMS44NzUtNS43OTI5NjktLjUxNTYyNS04LjUxOTUzMWwyNS42MDE1NjItNTEuMTk5MjE5YzEuNDM3NS0yLjg4MjgxMyA0LjM3NS00LjcwNzAzMSA3LjU5Mzc1LTQuNzE4NzVoMTcuMDY2NDA3di01OS43MzQzNzVoLTg1LjMzMjAzMnYxMDIuMzk4NDM3Yy4wMTU2MjUgMy42OTE0MDcgMS4yMTA5MzggNy4yODEyNSAzLjQxNDA2MyAxMC4yNDIxODhsMjAuNDgwNDY5IDI3LjMwNDY4N2MxLjkzNzUgMi41ODU5MzggMi4yNSA2LjA0Njg3NS44MDQ2ODcgOC45Mzc1cy00LjM5ODQzNyA0LjcxNDg0NC03LjYzMjgxMyA0LjcxNDg0NHptMCAwIi8+PHBhdGggZD0ibTQ4OS40MDIzNDQgMjU2LjQ5MjE4OGgtNTQuMjAzMTI1di0xNy4wNjY0MDdoNTQuMjAzMTI1YzIuODU1NDY4LjAxMTcxOSA1LjI1LTIuMTQ4NDM3IDUuNTI3MzQ0LTQuOTg4MjgxLjI4MTI1LTIuODM1OTM4LTEuNjQwNjI2LTUuNDIxODc1LTQuNDQxNDA3LTUuOTY4NzVsLTMxLjM5NDUzMS02LjI4MTI1IDMuMzQzNzUtMTYuNzI2NTYyIDMxLjM1OTM3NSA2LjI3MzQzN2MxMS4zOTQ1MzEgMi4yNjk1MzEgMTkuMjEwOTM3IDEyLjgwODU5NCAxOC4wNzgxMjUgMjQuMzY3MTg3LTEuMTM2NzE5IDExLjU2MjUtMTAuODU1NDY5IDIwLjM3ODkwNy0yMi40NzI2NTYgMjAuMzkwNjI2em0wIDAiLz48cGF0aCBkPSJtMzM5LjI2OTUzMSAxNjIuMzY3MTg4LTYzLjE0ODQzNy0xNS43OTI5NjljLTIuNzE0ODQ0LS42Nzk2ODgtNS41MDM5MDYtMS4wMTk1MzEtOC4zMDA3ODItMS4wMTU2MjVoLTEzOS44MjAzMTJ2LTE3LjA2NjQwNmgxMzkuODIwMzEyYzQuMTg3NSAwIDguMzU5Mzc2LjUxNTYyNCAxMi40MjE4NzYgMS41MzUxNTZsNjMuMTQ4NDM3IDE1Ljc4NTE1NnptMCAwIi8+PHBhdGggZD0ibTIwNC44MDA3ODEgMTM3LjAyMzQzOGgtMTcuMDY2NDA2di03Ni44MDA3ODJoLTE1Ljg3MTA5NGwtNTguNTkzNzUgMTYuNzQ2MDk0LTQuNjc1NzgxLTE2LjQxNzk2OSA1OC41ODIwMzEtMTYuNzQ2MDkzYzEuNTIzNDM4LS40Mjk2ODggMy4xMDE1NjMtLjY0ODQzOCA0LjY4NzUtLjY0ODQzOGgxNS44NzEwOTRjOS40MjU3ODEgMCAxNy4wNjY0MDYgNy42NDQ1MzEgMTcuMDY2NDA2IDE3LjA2NjQwNnptMCAwIi8+PHBhdGggZD0ibTExMi4zNzEwOTQgMTIzLjc1NzgxMiA1MS4xOTkyMTgtNzYuODAwNzgxIDE0LjE5OTIxOSA5LjQ2NDg0NC01MS4xOTkyMTkgNzYuODA0Njg3em0wIDAiLz48cGF0aCBkPSJtMjY0LjUzNTE1NiAxMzcuMDIzNDM4aC0xNy4wNzAzMTJjLS41MjczNDQtMTMuOTEwMTU3LTExLjY4MzU5NC0yNS4wNzAzMTMtMjUuNTk3NjU2LTI1LjU5NzY1Ny03LjM0NzY1NyAwLTE0LjMzOTg0NCAzLjE1NjI1LTE5LjE5OTIxOSA4LjY2Nzk2OWwtMTIuODAwNzgxLTExLjI5Njg3NWM4LjEwMTU2Mi05LjE4MzU5NCAxOS43NTM5MDYtMTQuNDQxNDA2IDMyLTE0LjQzNzUgMjMuMzEyNS41ODk4NDQgNDIuMDc0MjE4IDE5LjM1MTU2MyA0Mi42Njc5NjggNDIuNjY0MDYzem0wIDAiLz48cGF0aCBkPSJtOC41MzUxNTYgODUuODI0MjE5Yy00LjE4MzU5NC0uMDA3ODEzLTcuNzQ2MDk0LTMuMDUwNzgxLTguNDA2MjUtNy4xNzk2ODgtLjY2NDA2Mi00LjEyODkwNiAxLjc2MTcxOS04LjEzMjgxMiA1LjczNDM3NS05LjQ1MzEyNWw0NS4zMzU5MzgtMTQuOTQxNDA2di0xMC45MTQwNjJjMC00LjcxMDkzOCAzLjgyMDMxMi04LjUzMTI1IDguNTM1MTU2LTguNTMxMjUgNC43MTA5MzcgMCA4LjUzMTI1IDMuODIwMzEyIDguNTMxMjUgOC41MzEyNXYxMC45MTQwNjJjLjAwMzkwNiA3LjM2NzE4OC00LjcxODc1IDEzLjkwNjI1LTExLjcxNDg0NCAxNi4yMTQ4NDRsLTQ1LjM0NzY1NiAxNC45MjU3ODFjLS44NTkzNzUuMjg5MDYzLTEuNzYxNzE5LjQzMzU5NC0yLjY2Nzk2OS40MzM1OTR6bTAgMCIvPjxwYXRoIGQ9Im0xODcuNzM0Mzc1IDE3OS42OTE0MDZoLTI1LjYwMTU2M2MtNC43MTA5MzcgMC04LjUzMTI1LTMuODIwMzEyLTguNTMxMjUtOC41MzUxNTYgMC00LjcxMDkzOCAzLjgyMDMxMy04LjUzMTI1IDguNTMxMjUtOC41MzEyNWgyNS42MDE1NjNjNC43MTA5MzcgMCA4LjUzMTI1IDMuODIwMzEyIDguNTMxMjUgOC41MzEyNSAwIDQuNzE0ODQ0LTMuODIwMzEzIDguNTM1MTU2LTguNTMxMjUgOC41MzUxNTZ6bTAgMCIvPjxwYXRoIGQ9Im0yMzAuMzk4NDM4IDI1Ni40OTIxODhjLTEuMzE2NDA3LjAxMTcxOC0yLjYxNzE4OC0uMjgxMjUtMy44MDQ2ODgtLjg1NTQ2OWwtNjguMjY1NjI1LTM0LjEzMjgxM2MtNC4yMTg3NS0yLjEwNTQ2OC01LjkyOTY4Ny03LjIzNDM3NS0zLjgyNDIxOS0xMS40NDkyMTggMi4xMDU0NjktNC4yMTg3NSA3LjIzNDM3NS01LjkyOTY4OCAxMS40NTMxMjUtMy44MjQyMTlsNjguMjY1NjI1IDM0LjEzMjgxMmMzLjQ5NjA5NCAxLjc5Mjk2OSA1LjMyMDMxMyA1LjczODI4MSA0LjQxNDA2MyA5LjU2MjVzLTQuMzA4NTk0IDYuNTM1MTU3LTguMjM4MjgxIDYuNTY2NDA3em0wIDAiLz48L3N2Zz4=";

const PitchChart = ({ value, width = 200, height = 200, label = "Pitch" }) => {
    const options = {
        series: [
            {
                type: "gauge",
                startAngle: 0,
                endAngle: 360,
                min: 0,
                max: 360,
                splitNumber: 8,
                axisLine: {
                    lineStyle: {
                        width: 10,
                        color: [[1, "#eee"]],
                    },
                },
                axisTick: {
                    length: 5,
                    distance: 10,
                    lineStyle: { color: "#999", width: 1 },
                },
                splitLine: {
                    length: 10,
                    distance: 10,
                    lineStyle: { color: "#999", width: 1 },
                },
                axisLabel: {
                    distance: 15,
                    fontSize: 10,
                    color: "#555",
                    formatter: (angle) => {
                        // Map 0 and 180 to 0°
                        // 90 → -90°, 270 → +90°
                        if (angle === 0 || angle === 180) return "0°";
                        if (angle === 90) return "-90°";
                        if (angle === 270) return "+90°";
                        if (angle === 45) return "-45°";
                        if (angle === 135) return "-45";
                        if (angle === 225) return "+45";
                        if (angle === 315) return "+45°";
                        return "";
                    },
                },
                pointer: { show: false },
                detail: {
                    formatter: `${value}°`,
                    fontSize: 14,
                    color: "#444",
                    offsetCenter: [0, "50%"],
                },
                title: {
                    show: true,
                    offsetCenter: [0, "-40%"],
                    fontSize: 12,
                    color: "#888",
                },
                data: [
                    {
                        // Convert roll from -90 → 90 to 360 scale
                        value: 180 - value,
                        name: label,
                    },
                ],
            },
        ],
        graphic: [
            {
                type: "image",
                left: "center",
                top: "center",
                rotation: (value * Math.PI) / 180,
                origin: [30, 30],
                style: {
                    image: carBase64,
                    width: 80,
                    height: 80,
                },
            },
            {
                type: "line",
                left: "center",
                top: "center",
                rotation: ((value - 90) * Math.PI) / 180, // adjust to match gauge layout
                shape: {
                    x1: 0,
                    y1: 0, // Start closer to the outer edge
                    x2: 0,
                    y2: -200, // End further out at the outer radius
                },
                style: {
                    stroke: "#e53935",
                    lineWidth: 2,
                },
                origin: [30, 30], // Center of the chart
            },
        ],
    };

    return (
        <div style={{ width, height }}>
            <ChartWrapper options={options} />
        </div>
    );
};

PitchChart.propTypes = {
    value: PropTypes.number.isRequired,
    label: PropTypes.string,
    width: PropTypes.number,
    height: PropTypes.number,
};

export default PitchChart;
